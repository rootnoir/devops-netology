
# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

---

## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

## Ответ 1
https://hub.docker.com/r/rootnoir/netology/tags

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;
- Nodejs веб-приложение;
- Мобильное приложение c версиями для Android и iOS;
- Шина данных на базе Apache Kafka;
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе Prometheus и Grafana;
- MongoDB, как основное хранилище данных для java-приложения;
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

## Ответ 2
- Высоконагруженное монолитное java веб-приложение;
  - подходит. однако, предварительно требуется провести нагрузочное тестирование
- Nodejs веб-приложение;
  - подходит
- Мобильное приложение c версиями для Android и iOS;
  - не подходит. противоречит политике iOS
- Шина данных на базе Apache Kafka;
  - подходит
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
  - подходит. используем в рабочей среде
- Мониторинг-стек на базе Prometheus и Grafana;
  - подходит. используем в рабочей среде
- MongoDB, как основное хранилище данных для java-приложения;
  - может использоваться в связке с контейнером приложения. в прочих случяаях для баз данных предпочтительнее использовать физические сервера.
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.
  - подходит. используем в рабочей среде

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

## Ответ 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
```shell
root@vagrant:~/mydocker# docker run --name mydebian -d -v /root/mydocker/data:/data debian:buster sleep 600
802e5c506919ba07ae3d2cb7f8315fc0041e5784dd8084ba74a74ed4916f825e

```
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
```shell
root@vagrant:~/mydocker# docker run --name mycentos -d -v /root/mydocker/data:/data centos:centos7 sleep 600
fae98f0fd2d9d1bf530f84cec841ad3ca3dd865fea43e68b2bfe250bd88ec4c3
root@vagrant:~/mydocker# docker ps -a
CONTAINER ID   IMAGE            COMMAND       CREATED          STATUS          PORTS     NAMES
fae98f0fd2d9   centos:centos7   "sleep 600"   18 seconds ago   Up 16 seconds             mycentos
802e5c506919   debian:buster    "sleep 600"   38 seconds ago   Up 36 seconds             mydebian

```
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
```shell
root@vagrant:~/mydocker# docker exec -ti mycentos /bin/bash
[root@fae98f0fd2d9 /]# echo "centos" > /data/file-from-centos
[root@fae98f0fd2d9 /]# exit

```
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
```shell
root@vagrant:~/mydocker# echo "host" > ./data/file-from-host

```
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.
```shell
root@vagrant:~/mydocker# docker exec -ti mydebian /bin/bash
root@802e5c506919:/# ls /data
file-from-centos  file-from-host
root@802e5c506919:/# cat /data/*
centos
host
root@802e5c506919:/# exit

```
